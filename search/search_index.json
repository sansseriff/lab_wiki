{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#snspd-internet-accessible-wiki","title":"SNSPD Internet Accessible Wiki","text":"<p>This is a static site wiki for the INQNET and JPL SNSPD teams. It's intended for storing non-sensitive information related to regular lab operation, especially any info that should be easier to access for INQNET people (who may not know about or remember the JPL SNSPD wiki). </p> <p>And crucially, this wiki has a guide on how to restart the JPL SNSPD wiki. </p> <p>Unlike a full Wikijs installation, this wiki cannot be edited using a friendly web-based editor. To edit, clone the repository, make additions or edits to the underlying markdown files, and submit a pull request. </p> <p>This site is hosted with github pages which should be free and low maintenance. Consider this the 'wiki for the wiki'. </p>"},{"location":"Adding%20Wireguard%20Profiles%20on%20Skynet/","title":"Adding Wireguard Profiles on Skynet","text":"<p>To be written</p>"},{"location":"Restarting%20Skynet/","title":"Restarting Skynet","text":"<p>After a power outage, the Skynet microserver will not start automatically. This can bring many lab operations to a halt because the data drive, lab wiki (Wikijs), DNS, and wireguard VPN all run on Skynet. </p> <p>Skynet does not automatically start because the boot hard drive is encrypted and a password must be entered to star the machine. </p>"},{"location":"Restarting%20Skynet/#1-start-with-skynet-off","title":"1: Start with Skynet off.","text":"<p>If Skynet appears to be on (the power button is lit up) but is not responding to ssh, hold the power button for 10 seconds to fully turn it off. </p>"},{"location":"Restarting%20Skynet/#2-plug-a-vga-monitor-keyboard-and-mouse-in","title":"2. Plug a VGA monitor, keyboard and mouse in.","text":"<p>There should already be a vga cable dangling from behind Skynet. </p>"},{"location":"Restarting%20Skynet/#3-start-skynet-with-the-the-front-power-button","title":"3. Start Skynet with the the front power button.","text":"<p>Then wait until a password prompt appears on the screen. This can take a while, may be a couple minutes. It's very slow to start up. The password is the usual lab password. </p>"},{"location":"Restarting%20Skynet/#4-start-the-wikijs-server","title":"4. Start the wikijs server.","text":"<p>For whatever reason, the wiki server does not start automatically. Long term, someone should either figure this out, or ideally migrate all the data off the existing installation and use a docker or docker-compose installation instead. Until that's figured out, we are stuck manually starting the wiki server. </p> <p>Still using the locally attached monitor, keyboard and mouse, log in as the wiki user using the usual password. Open a terminal and navigate to '/mnt/data/wiki/server' 1</p> <p><pre><code>cd /mnt/data/wiki/server/\n</code></pre> Become root with the <code>su</code> command, and enter the password.  Then run: <pre><code>npm start\n</code></pre> Leave the terminal open, remove the VGA monitor, mouse and keyboard. Everything else skynet related should start automatically. </p>"},{"location":"Restarting%20Skynet/#isnt-that-a-hacky-and-stupid-way-to-start-the-server","title":"Isn't that a hacky and stupid way to start the server?","text":"<p>Yes, I don't know a better way. You're welcome to look into a better way of doing it, or asking Alex W. </p> <ol> <li> <p>If running this command in the <code>/server</code> directory does not work, go up one directory to <code>/wiki</code> and try again. I'm writing this from memory and I can't test right now.\u00a0\u21a9</p> </li> </ol>"},{"location":"Spot2%20Operation/","title":"Spot2 Operation","text":""},{"location":"Spot2%20Operation/#start-the-freezecontroll-software","title":"Start the <code>freezecontroll</code> software","text":"<p>Navigate to <code>~/home/photonspot/freezecontrol2.1.7d.jpl-spot2</code>and open a terminal.</p> <p>Run: <pre><code>python freezecontrol2.1.7d_photonspot.py\n</code></pre></p> <p>The default python should be python 2.7. </p> <p>Depending on the state of the fridge, there's multiple things you may want to do:</p>"},{"location":"Spot2%20Operation/#before-evacuating-and-cooling-down","title":"Before evacuating and cooling down.","text":"<p>If you're starting the software just after closing the fridge. </p> <ol> <li>Make sure the main valve bewteen the fridge and pumping station is open.      We are not using a computer-controlled valve, so the <code>OPEN Valve</code> button on the <code>Startup</code> tab does not do anything. </li> <li>Start the pumping macro.      This will take about 45 minutes to reach P &lt; 5e-3 Torr.      </li> <li> <p>Start one of the cooldown macros.      As of January 2023, the newer liquid cooled compressor is not set up to automatically start from pressing one of these buttons. (That requires one of the long black cables we have be customized for the new compressor). Instead, start the compressor manually by going into the Hutzler compressor room and flipping the green switch from 0 to 1 state. You still need to press either the <code>Cooldown + condense + evaporate</code> or <code>Cooldown + condense</code> button, so that the heat switches will response automatically and cool down the fridge to the correct temperature when it's ready.      </p> </li> <li> <p>Manually close the valve after about 24 hours.      Once the stages in the fridge reach a certain temperature (below the freezing temperature of air), the turbo pump is no longer removing any air from the cryostat. Instead if the pumping station has any tiny leaks, air will leak in and freeze on one of the stages of the cryostat. This should be avoided, so after about 24 hours of cooling the valve between the pumping station and cryostat should be closed. </p> <p>After the valve is closed the pumping station can be turned off. Go the the <code>Relays</code> tab in the software. </p> <ol> <li>First, turn off the turbo pump by checking the box and selecting <code>Turn OFF</code>. Wait for the turbo pump speed to go all the way down to zero. You can see the speed here:  </li> <li>Then turn off the pumping station using it's relay, same way as for the turbo pump. As the pumping station shuts down, you will hear it vent the vacuum inside. This is why you definitely need to have the valve between the cryostat and pumping station closed before shutting it down. </li> </ol> </li> <li> <p>Start the daily cycling</p> <p>After about 48 hours, the fridge should be in a steady evaporate or condense state depending on which macro was chosen at the start. I usually choose the <code>Cooldown + condense + evaporate</code> macro so the fridge is at base temperature as soon as possible. </p> <p>Go to the <code>Cycle: On schedule</code> tab in the software and move the 2nd slider on the page to about 3.6. This is the slider following the phrase \"Evaporate when T1k below:\". </p> <p>With extra heat load on the 1K stage, I don't see T1K ever get below 3.4 K or so at the end of the condense process. If this slider is not adjusted above 3.4 K or so, then the fridge will be continuously waiting for T1K to get lower and will never start the evaporate macro. </p> <p>Finally, set the <code>Condense start</code> and <code>Evaporate start</code> times to your preference and hit the <code>Activate</code> button to start the on-schedule cycling. </p> <p>If something gets messed up about the on-schedule cycling (maybe you got the times wrong, or the evaporate temperature slider needs to be higher), just close the whole software and start over. The software as-is isn't very clear about when a certain macro is activated, and it can do weird things if you activate multiple macros over each other. </p> </li> </ol>"},{"location":"Spot2%20Operation/#if-the-fridge-is-already-cryo-pumping","title":"If the fridge is already cryo-pumping","text":"<p>This could be the case after something with the computer got messed up, like there was a momentary power outage. </p> <p>The 1K stage could be in 3 possible states:</p> <ul> <li>The T1K stage is at about 4 Kelvin, the pot has likely run out of helium. The fridge needs to go through the condense and the evaporate steps. </li> <li>The T1K stage is at about 3.3 Kelvin or near there. The fridge is likely already condensed and just needs to evaporate</li> <li>The T1K stage is already at base temperature, about 0.9 K. This could be the case if you're just restarting the software. Skip ahead to Activate On Schedule Cycling.</li> </ul> <p>In the first two cases, take the following steps to get the fridge to base temperature immediately. Then you can set up the on schedule cycling:</p> Condense and EvaporateEvaporate Only <p>On the <code>On Demand</code> tab, make sure the slider following \"Evaporate when T1K below:\" is set to about 3.6 K. Then select the <code>Condense + Hold + Evaporate</code> button at the top. </p> <p>On the <code>On Demand</code> tab, make sure the slider following \"Evaporate when T1K below:\" is set to about 3.6 K. Then select the <code>Evaporate</code> button just above the slider. </p>"},{"location":"Spot2%20Operation/#activate-on-schedule-cycling","title":"Activate On Schedule Cycling","text":"<p>Once the fridge is at base temperature (this can take up to 3 hours for <code>condense + evaporate</code> or about 30 minutes for <code>evaporate</code>), you can set up the auto cycling. </p> <p>After about 48 hours, the fridge should be in a steady evaporate or condense state depending on which macro was chosen at the start. I usually choose the <code>Cooldown + condense + evaporate</code> macro so the fridge is at base temperature as soon as possible. </p> <p>Go to the <code>Cycle: On schedule</code> tab in the software and move the 2nd slider on the page to about 3.6. This is the slider following the phrase \"Evaporate when T1k below:\". </p> <p>With extra heat load on the 1K stage, I don't see T1K ever get below 3.4 K or so at the end of the condense process. If this slider is not adjusted above 3.4 K or so, then the fridge will be continuously waiting for T1K to get lower and will never start the evaporate macro. </p> <p>Finally, set the <code>Condense start</code> and <code>Evaporate start</code> times to your preference and hit the <code>Activate</code> button to start the on-schedule cycling. </p> <p>If something gets messed up about the on-schedule cycling (maybe you got the times wrong, or the evaporate temperature slider needs to be higher), just close the whole software and start over. The software as-is isn't very clear about when a certain macro is activated, and it can do weird things if you activate multiple macros over each other. </p> <p>Finally to re-iterate, if you need to change some parameters of the currently running on-schedule cycling, just close the program and follow these steps again. This way we avoid getting in the program into some weird unreliable state. </p>"}]}